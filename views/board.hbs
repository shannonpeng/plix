<div class="back-arrow button"><i class="fa fa-arrow-right"></i></div>

<div id="view-board" board="{{ board._id }}">
    <div class="overlay"></div>
    <div class="container">
        <div class="content">
            <div class="board-details">
                <h1>{{board.name}}</h1>
                <!--<p><i class="fa fa-globe"></i> {{round board.latitude 2}}, {{round board.longitude 2}}</p>-->
                <p><i class="fa fa-clock-o"></i> {{#if board.last_pixel_at}}Updated {{ relativeTime board.last_pixel_at }}{{else}}Never{{/if}}</p>
                <p><i class="fa fa-user"></i> {{formatUsers board.unique_contributors}}</p>
            </div>
            <div id="board-container" class="board-container"{{#if edit}}{{else}}style="cursor: not-allowed !important;"{{/if}}>
            <div class="board">
                <!-- <div class="locker"></div> -->
                {{#each blocks}}
                    <div class="row">
                    {{#each this}}
                        <div class="block" id="{{x}}-{{y}}" style="background-color: {{hex}}" onclick="pixPick({{x}}, {{y}})">
                            <div class="overlay"></div>
                        </div>
                    {{/each}}
                    </div>
                {{/each}}
            </div>
            </div>
            <div id="board-panel">
                {{#if edit}}
                <div id="paint">
                    <p class="loader"><i class="fa fa-spinner"></i> Checking if in range</p>
                    <div class="picker">
                        <p><i class="fa fa-paint-brush"></i>Pixel Color</p>
                        <input class="jscolor" id="pixcolor" name="hex" value="#4dbcf8">
                    </div>
                    <p class="error"><i class="fa fa-lock"></i>Sorry, you aren't in range to edit</p>
                </div>
                {{/if}}
                <div id="leaderboard">
                    <p><i class="fa fa-trophy"></i>Leaderboard</p>
                    <table class="leaders">
                        {{#each leaders}}
                            <tr>
                                <td class="username">{{ username }}</td>
                                <td class="count">{{ count }}</td>
                            </tr>
                        {{else}}
                            <tr>No leaders yet. This is your shot!</tr>
                        {{/each}}
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Scripts -->
<script src='/scripts/jscolor.js'></script>
<script src="/scripts/board.js"></script>
